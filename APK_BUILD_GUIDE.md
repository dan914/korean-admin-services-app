# 📱 APK Build Guide - Korean Administrative Services Apps

## Current Status
- ✅ **Web Versions**: Both apps are running successfully
  - Main App: http://localhost:8080
  - Admin Panel: http://localhost:8090
- 🔄 **Android Setup**: Installing Android SDK...

## Method 1: Automated Setup (In Progress)
```bash
# Installing Android Studio via Homebrew
brew install --cask android-studio

# After installation, configure Flutter
flutter config --android-sdk /usr/local/Caskroom/android-studio/*/Android\ Studio.app/Contents/android-sdk
flutter doctor --android-licenses
```

## Method 2: Manual Android Studio Installation
1. **Download Android Studio**: https://developer.android.com/studio
2. **Install Android SDK**: Follow setup wizard
3. **Configure Flutter**:
   ```bash
   flutter config --android-sdk ~/Android/Sdk
   flutter doctor --android-licenses
   ```
4. **Build APKs**:
   ```bash
   cd "행정도우미" && flutter build apk --release
   cd "../admin_app" && flutter build apk --release
   ```

## Method 3: Alternative Build Approaches

### 3.1 GitHub Actions (Recommended for Production)
Create `.github/workflows/build-apk.yml`:
```yaml
name: Build APK
on: [push, pull_request]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: actions/setup-java@v3
      with:
        distribution: 'zulu'
        java-version: '11'
    - uses: subosito/flutter-action@v2
      with:
        flutter-version: '3.32.8'
    - run: flutter pub get
    - run: flutter build apk --release
    - uses: actions/upload-artifact@v3
      with:
        name: apk-artifact
        path: build/app/outputs/flutter-apk/app-release.apk
```

### 3.2 Docker Build Environment
```bash
# Use Flutter Docker image
docker run --rm -v "$PWD:/app" -w /app cirrusci/flutter:stable sh -c "
  flutter pub get &&
  flutter build apk --release
"
```

### 3.3 Cloud Build Services
- **Codemagic**: https://codemagic.io/start/
- **Bitrise**: https://www.bitrise.io/
- **AppCenter**: https://appcenter.ms/

## Expected APK Locations (After Build)
```
행정도우미/build/app/outputs/flutter-apk/app-release.apk
admin_app/build/app/outputs/flutter-apk/app-release.apk
```

## APK Features
### Main App APK Will Include:
- ✅ Real-time form validation
- ✅ Phone number auto-formatting
- ✅ Rate limiting (1 submission per minute)
- ✅ Korean language support
- ✅ Responsive design for mobile
- ✅ Offline-capable UI
- ✅ Security headers and CSP

### Admin App APK Will Include:
- ✅ Dashboard with statistics
- ✅ Application management with pagination
- ✅ Session timeout warnings
- ✅ Mobile-responsive admin interface
- ✅ Supabase integration
- ✅ Secure authentication flow

## Testing APKs
```bash
# Install on connected Android device
adb install app-release.apk

# Or transfer to device and install manually
# (Enable "Install unknown apps" in device settings)
```

## Production Considerations
1. **App Signing**: Configure release keystore
2. **Permissions**: Review AndroidManifest.xml
3. **Network Security**: Verify HTTPS endpoints
4. **Performance**: Test on various devices
5. **Play Store**: Follow publishing guidelines

## Troubleshooting
- **Build Failures**: Run `flutter clean && flutter pub get`
- **SDK Issues**: Use `flutter doctor` to diagnose
- **Permissions**: Check AndroidManifest.xml
- **Size Optimization**: Use `--split-per-abi` for smaller APKs

---
*Generated by Claude Code - Korean Administrative Services Project*